<form [formGroup]="passwordForm()">
  <mat-form-field appearance="outline">
    <mat-label>Old Password</mat-label>
    <input matInput [type]="pwdShow ? 'text': 'password'" formControlName="oldPassword">
    <button class="field-suffix" type="button" mat-icon-button matSuffix (click)="pwdShow = !pwdShow">
      <mat-icon fontSet="material-icons-round" matSuffix>{{pwdShow ? 'visibility' : 'visibility_off'}}</mat-icon>
    </button>
    @if (passwordForm().controls.oldPassword.errors) {
    <mat-error>{{passwordForm().controls.oldPassword.errors | validationError}}</mat-error>
    }
  </mat-form-field>

  <app-new-password-input style="width: 100%;"
    [password]="passwordForm().controls.newPassword"
    [(pwdShow)]="pwdShow"
  ></app-new-password-input>

  <mat-form-field appearance="outline">
    <mat-label>Confirm Password</mat-label>
    <input matInput [type]="pwdShow ? 'text': 'password'" formControlName="confirmPassword">
    <button class="field-suffix" type="button" mat-icon-button matSuffix (click)="pwdShow = !pwdShow">
      <mat-icon fontSet="material-icons-round" matSuffix>{{pwdShow ? 'visibility' : 'visibility_off'}}</mat-icon>
    </button>
    @if (passwordForm().controls.confirmPassword.errors) {
    <mat-error>{{passwordForm().controls.confirmPassword.errors | validationError}}</mat-error>
    }
  </mat-form-field>

  <mat-card-actions>
    <button mat-button type="button" (click)="submit.emit()"
      [disabled]="!passwordForm().enabled || !passwordForm().valid || !passwordForm().dirty">
      Update Password
    </button>
  </mat-card-actions>
</form>